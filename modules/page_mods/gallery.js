var GalleryHeadModule=function(){"use strict";function e(){t()}function t(){$(".galleryHead").each(function(e){n(this)})}function n(e){function t(e){return Math.round(100*e)/100}function n(e){e.sort(function(){return Math.random()>.5?1:-1});return e}function r(){var t=[];var n=$(e).children("a");var r=-1;var i=n.length;while(++r<i){var s=n[r];var o={link:s.getAttribute("href"),title:s.getAttribute("title")};var u=$(s).children("img")[0];if(u){o["pic"]=u.getAttribute("src")}t.push(o)}$(e).html("");return t}function i(n,r,i,s,o){var u=document.createElement("div");u.setAttribute("class","galleryHeadItem");a.push(u);if(o){l=u}$(u).css("left",t(100*n)+"%");$(u).css("top",t(100*r)+"%");$(u).css("width",t(100*i)+"%");$(u).css("height",t(100*s)+"%");$(e).append(u)}function s(){var e=n(f.concat());var t=n(a.concat());var r=t.indexOf(l);if(r>-1){t.splice(r,1);t.unshift(l)}var r=-1;var i=-1;var s=t.length;var c=e.length;while(++i<c){o(t[++r%s],e[i])}r=-1;while(++r<s){u(t[r])}}function o(e,t){$(e).append(""+"<div class='galleryHeadItemChild'>"+"<a href='"+(t.link||"")+"'"+"title='"+(t.title||"")+"'"+"class='galleryHeadItemContent'"+"style='background: url(\""+(t.pic||"")+'") no-repeat; background-size: '+c+" !important'>"+"</a>"+"</div>")}function u(e){function t(e){$(e).css({opacity:0,display:"block"});$(e).animate({opacity:1},m)}function n(e){$(e).css({opacity:1});$(e).animate({opacity:0},m,function(){$(e).css({display:"none"})})}function r(){if(l>1&&!e.isMouseOver){if(f){n(f)}a=(a+1)%l;f=i[a];t(f)}if(l==1){$(i[0]).css({opacity:1,display:"block"})}}$(e).mouseover(function(){e.isMouseOver=true});$(e).mouseout(function(){e.isMouseOver=false});var i=$(e).children();var s=-1;var o=i.length;while(++s<o){var u=i[s];$(u).css({opacity:0,display:"none"})}var a=-1;var f=null;var l=o;r();setTimeout(function(){r();setInterval(r,v)},1e3+v*Math.random())}var a=[];var f=r();var l=null;var c=(e.getAttribute("bg-size")||"cover").toLowerCase();var h=parseInt(e.getAttribute("data-cols"))||5;var p=parseInt(e.getAttribute("data-rows"))||2;var d=parseInt(e.getAttribute("data-bigcell-limit"))||9999;var v=parseInt(e.getAttribute("data-update-interval"))||15e3;var m=parseInt(e.getAttribute("data-transition-time"))||1e3;var g=Math.min(d,Math.min(p,h));var y=1/h;var b=1/p;var w=0;var E=0;if(p>1&&h>1){w=Math.max(0,h-g>>1);E=Math.max(0,p-g>>1)}for(var S=0;S<p;S++){for(var x=0;x<h;x++){var T=y;var N=b;var C=false;if(x===w&&S===E){T*=g;N*=g;C=true}else if(x>=w&&S>=E&&x<w+g&&S<E+g){continue}i(x*y,S*b,T,N,C)}}s()}if($){$(e)}else{throw new Error("jQuery undefined")}return{}}()